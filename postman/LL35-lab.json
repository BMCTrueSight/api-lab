{
	"variables": [],
	"info": {
		"name": "LL35 - BMC TrueSight Cloud API",
		"_postman_id": "776b25a8-d4c5-3408-72d4-e550e98f95d4",
		"description": "This collection consists of example REST examples along with the TrueSight Cloud REST API for:\n\n- Events\n- Metrics\n- Measurements",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "Lab 1 - REST",
			"description": "This section provides example REST calls to get an understanding of the different REST methods that are typically used.",
			"item": [
				{
					"name": "1.1 - GET request",
					"request": {
						"url": "https://httpbin.org/get",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": "Provides an example of a HTTP Get request to http://httpbin.org."
					},
					"response": []
				},
				{
					"name": "1.2 - GET request with parameters",
					"request": {
						"url": "https://httpbin.org/get?foo=bar&color=red",
						"method": "GET",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "1.3 - POST request",
					"request": {
						"url": "https://httpbin.org/post",
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "1.4 - POST request with JSON payload",
					"request": {
						"url": "https://httpbin.org/post",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"foo\": \"bar\",\n    \"red\": true,\n    \"curly\": 101\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "1.5 - PUT request",
					"request": {
						"url": "https://httpbin.org/put",
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"foo\": \"bar\",\n    \"red\": false,\n    \"curly\": 201\n}"
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "Lab 2 - Events",
			"description": "",
			"item": [
				{
					"name": "2.1 - Create",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/events",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"test event\",\n    \"fingerprintFields\": [\"@title\", \"@message\"],\n    \"source\": {\"ref\": \"myhost\", \"type\": \"host\"}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "2.2 - Create with Message and Status",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/events",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"test event\",\n    \"fingerprintFields\": [\"@title\", \"@message\"],\n    \"status\": \"OPEN\",\n    \"source\": {\"ref\": \"myhost\", \"type\": \"host\"}\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "2.3 - Create with Application ID",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/events",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"test event\",\n    \"fingerprintFields\": [\"@title\", \"@message\"],\n    \"message\": \"Hello World!\",\n    \"status\": \"OPEN\",\n    \"source\": {\"ref\": \"myhost\", \"type\": \"host\"},\n    \"properties\": {\"app_id\": \"LittleDog\"}\n}\n"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "2.4 - Create with Application ID and Event Class",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/events",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"test event\",\n    \"fingerprintFields\": [\"@title\", \"@message\"],\n    \"status\": \"OPEN\",\n    \"source\": {\"ref\": \"myhost\", \"type\": \"host\"},\n    \"properties\": {\"app_id\": \"LittleDog\"},\n    \"eventClass\": \"Dude\"\n}\n"
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "Lab 3 - Metrics",
			"description": "",
			"item": [
				{
					"name": "3.1 - Create",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\n\n\n\ntests[\"Body matches string\"] = responseBody.has(\"CPU\");"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/metrics",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic ZGF2aWRfZ3dhcnRuZXlAYm1jLmNvbTphcGkuNGM3YTY0ZWQzZi04NTkz",
								"description": ""
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "3.2 - Create with Type",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "var jsonData = JSON.parse(responseBody);\ntests[\"Your test name\"] = jsonData.value === 100;"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": "https://api.truesight.bmc.com/v1/metrics",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\": \"JDG_MY_METRIC\",\n   \"description\": \"A cool metric I created\",\n   \"displayName\": \"My cool metric\",\n   \"displayNameShort\": \"cool metric\",\n   \"unit\": \"number\",\n   \"defaultAggregate\": \"avg\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "3.3 - Metric Update",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": {
							"raw": "https://api.truesight.bmc.com/v1/metrics/:metric",
							"protocol": "https",
							"auth": {},
							"host": [
								"api",
								"truesight",
								"bmc",
								"com"
							],
							"path": [
								"v1",
								"metrics",
								":metric"
							],
							"variable": [
								{
									"value": "FOO",
									"id": "metric"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic ZGF2aWRfZ3dhcnRuZXlAYm1jLmNvbTphcGkuNGM3YTY0ZWQzZi04NTkz",
								"description": ""
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "3.4 - Metric Delete",
					"request": {
						"auth": {
							"type": "basic",
							"basic": {
								"username": "{{EMAIL}}",
								"password": "{{API_TOKEN}}",
								"saveHelperData": true,
								"showPassword": false
							}
						},
						"url": {
							"raw": "https://api.truesight.bmc.com/v1/metrics/:metric",
							"protocol": "https",
							"auth": {},
							"host": [
								"api",
								"truesight",
								"bmc",
								"com"
							],
							"path": [
								"v1",
								"metrics",
								":metric"
							],
							"variable": [
								{
									"value": "",
									"id": "metric"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": []
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "Lab 4 - Measurements",
			"description": "",
			"item": [
				{
					"name": "4.1 - Create",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Body matches string\"] = responseBody.has(\"true\");\n\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Check for success true\"] = jsonData.result.success === true;"
							}
						}
					],
					"request": {
						"url": "https://api.truesight.bmc.com/v1/measurements",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"source\": \"myserver\",\n   \"metric\": \"CPU\",\n   \"measure\": 0.1\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "4.2 - Create with Timestamp",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Body matches string\"] = responseBody.has(\"true\");\n\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Check for success true\"] = jsonData.result.success === true;"
							}
						}
					],
					"request": {
						"url": "https://api.truesight.bmc.com/v1/measurements",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"source\": \"myserver\",\n   \"metric\": \"CPU\",\n   \"measure\": 0.1\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "4.3 - Create with Application Id",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Body matches string\"] = responseBody.has(\"true\");\n\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Check for success true\"] = jsonData.result.success === true;"
							}
						}
					],
					"request": {
						"url": "https://api.truesight.bmc.com/v1/measurements",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"source\": \"myserver\",\n   \"metric\": \"CPU\",\n   \"measure\": 0.1\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "4.4 - Create with Application Id and Origin",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Body matches string\"] = responseBody.has(\"true\");\n\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Check for success true\"] = jsonData.result.success === true;"
							}
						}
					],
					"request": {
						"url": "https://api.truesight.bmc.com/v1/measurements",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"source\": \"myserver\",\n   \"metric\": \"CPU\",\n   \"measure\": 0.1\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "4.5 - Continuously Send Measurements",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": "tests[\"Status code is 200\"] = responseCode.code === 200;\ntests[\"Body matches string\"] = responseBody.has(\"true\");\n\n\nvar jsonData = JSON.parse(responseBody);\ntests[\"Check for success true\"] = jsonData.result.success === true;"
							}
						}
					],
					"request": {
						"url": "https://api.truesight.bmc.com/v1/measurements",
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"source\": \"myserver\",\n   \"metric\": \"CPU\",\n   \"measure\": 0.1\n}"
						},
						"description": ""
					},
					"response": []
				}
			]
		}
	]
}